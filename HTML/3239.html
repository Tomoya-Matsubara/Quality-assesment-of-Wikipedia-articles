

<p><strong>Portable Network Graphics</strong> (<strong>PNG</strong> <a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> ) is a <a href="raster_graphics" title="wikilink">raster graphics</a> <a href="graphics_file_format" title="wikilink">file format</a> that supports <a href="lossless_data_compression" title="wikilink">lossless data compression</a>. PNG was created as an improved, non-patented replacement for <a href="Graphics_Interchange_Format" title="wikilink">Graphics Interchange Format</a> (GIF), and is the most used lossless image compression format on the World Wide Web.<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a></p>
<p>PNG supports palette-based images (with palettes of 24-bit <a href="RGB_color_model" title="wikilink">RGB</a> or 32-bit <a href="RGBA" class="uri" title="wikilink">RGBA</a> colors), <a href="grayscale" class="uri" title="wikilink">grayscale</a> images (with or without <a href="alpha_channel" title="wikilink">alpha channel</a>), and full-color non-palette-based RGB[A] images (with or without alpha channel). PNG was designed for transferring images on the Internet, not for professional-quality print graphics, and therefore does not support non-RGB <a href="color_space" title="wikilink">color spaces</a> such as <a href="CMYK_color_model" title="wikilink">CMYK</a>.</p>
<p>PNG files nearly always use file extension <code>PNG</code> or <code>png</code> and are assigned <a href="MIME_type" title="wikilink">MIME</a> media type <code>image/png</code>. PNG was approved for this use by the <a href="Internet_Engineering_Steering_Group" title="wikilink">Internet Engineering Steering Group</a> on 14 October 1996,<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a> and was published as an ISO/IEC standard in 2004.<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a></p>
<h2 id="history-and-development">History and development</h2>

<p>The motivation for creating the PNG format was in early 1995, after it became known that the <a href="Lempel&lt;U+2013&gt;Ziv&lt;U+2013&gt;Welch" class="uri" title="wikilink">Lempel&lt;U+2013&gt;Ziv&lt;U+2013&gt;Welch</a> (LZW) <a href="data_compression" title="wikilink">data compression</a> algorithm used in the <a href="Graphics_Interchange_Format" title="wikilink">Graphics Interchange Format</a> (GIF) format was <a href="patent" title="wikilink">patented</a> by <a href="Unisys" class="uri" title="wikilink">Unisys</a>. There were also other problems with the GIF format that made a replacement desirable, notably its limit of 256 <a href="color" title="wikilink">colors</a> at a time when computers able to display far more than 256 colors were growing common. Although GIF allows for <a href="computer_animation" title="wikilink">animation</a>, it was decided that PNG should be a single-image format. A companion format called <a href="Multiple-image_Network_Graphics" title="wikilink">Multiple-image Network Graphics</a> (MNG) has been defined for animation, whereas a competing format, <a href="APNG" title="wikilink">Animated Portable Network Graphics (APNG)</a>, supports backward-compatibility with PNG (which MNG does not).</p>
<p>A January 1995 precursory discussion thread, on the <a href="usenet_newsgroup" title="wikilink">usenet newsgroup</a> &quot;comp.graphics&quot; with the subject <em>Thoughts on a GIF-replacement file format</em>, had many propositions, which would later be part of the PNG file format. In this thread, Oliver Fromme, author of the popular <a href="DOS" class="uri" title="wikilink">DOS</a> <a href="JPEG" class="uri" title="wikilink">JPEG</a> viewer <a href="QPEG" class="uri" title="wikilink">QPEG</a>, proposed the PING name, meaning <em><a href="Recursive_acronym" title="wikilink">PING is not GIF</a></em>, and also the PNG extension.<a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a></p>
<ul>
<li>1 October 1996: Version 1.0 of the PNG specification was released, and later appeared as <a href="Request_for_Comments" title="wikilink">RFC</a> 2083. It became a <a href="World_Wide_Web_Consortium" title="wikilink">W3C</a> Recommendation on 1 October 1996.</li>
<li>31 December 1998: Version 1.1, with some small changes and the addition of three new chunks, was released.</li>
<li>11 August 1999: Version 1.2, adding one extra chunk, was released.</li>
<li>10 November 2003: PNG became an International Standard (<a href="International_Organization_for_Standardization" title="wikilink">ISO</a>/<a href="International_Electrotechnical_Commission" title="wikilink">IEC</a> 15948:2003). This version of PNG differs only slightly from version 1.2 and adds no new chunks.</li>
<li>3 March 2004: <a href="http://www.iso.org/iso/en/CatalogueDetailPage.CatalogueDetail?CSNUMBER=29581&amp;scopelist=PROGRAMME">ISO/IEC 15948:2004</a>.<a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a></li>
</ul>
<h2 id="png-working-group">PNG Working Group</h2>
<p>The original PNG specification was authored by an ad-hoc group of computer graphics experts and enthusiasts. Discussions and decisions about the format were done exclusively via email. The original authors listed on RFC 2083 are:<a href="#fn7" class="footnote-ref" id="fnref7"><sup>7</sup></a></p>
<ul>
<li>Editor: <a href="Thomas_Boutell" title="wikilink">Thomas Boutell</a></li>
<li>Contributing Editor: <a href="Tom_Lane_(computer_scientist)" title="wikilink">Tom Lane</a></li>
<li>Authors (in alphabetical order): <a href="Mark_Adler" title="wikilink">Mark Adler</a>, <a href="Thomas_Boutell" title="wikilink">Thomas Boutell</a>, <a href="Christian_Brunschen" title="wikilink">Christian Brunschen</a>, <a href="Adam_M._Costello" title="wikilink">Adam M. Costello</a>, <a href="Lee_Daniel_Crocker" title="wikilink">Lee Daniel Crocker</a>, <a href="Andreas_Dilger" title="wikilink">Andreas Dilger</a>, <a href="Oliver_Fromme" title="wikilink">Oliver Fromme</a>, <a href="Jean-loup_Gailly" title="wikilink">Jean-loup Gailly</a>, <a href="Chris_Herborth" title="wikilink">Chris Herborth</a>, <a href="Aleks_Jakulin" title="wikilink">Aleks Jakulin</a>, <a href="Neal_Kettler" title="wikilink">Neal Kettler</a>, <a href="Tom_Lane_(computer_scientist)" title="wikilink">Tom Lane</a>, <a href="Alexander_Lehmann" title="wikilink">Alexander Lehmann</a>, <a href="Chris_Lilley_(computer_scientist)" title="wikilink">Chris Lilley</a>, Dave Martindale, <a href="Owen_Mortensen" title="wikilink">Owen Mortensen</a>, <a href="Keith_S._Pickens" title="wikilink">Keith S. Pickens</a>, <a href="Robert_P._Poole" title="wikilink">Robert P. Poole</a>, <a href="Glenn_Randers-Pehrson" title="wikilink">Glenn Randers-Pehrson</a>, <a href="Greg_Roelofs" title="wikilink">Greg Roelofs</a>, <a href="Willem_van_Schaik" title="wikilink">Willem van Schaik</a>, <a href="Guy_Schalnat" title="wikilink">Guy Schalnat</a>, <a href="Paul_Schmidt_(computer_programmer)" title="wikilink">Paul Schmidt</a>, <a href="Tim_Wegner" title="wikilink">Tim Wegner</a>, <a href="Jeremy_Wohl" title="wikilink">Jeremy Wohl</a></li>
</ul>
<h2 id="technical-details">Technical details</h2>
<figure>
<img src="PNG-Gradient_hex.png" title="The PNG image PNG-Gradient.png viewed with a hex editor" alt="The PNG image PNG-Gradient.png viewed with a hex editor" /><figcaption>The PNG image <img src="PNG-Gradient.png" title="fig:PNG-Gradient.png" alt="PNG-Gradient.png" width="30" /> viewed with a <a href="hex_editor" title="wikilink">hex editor</a></figcaption>
</figure>
<h3 id="file-header">File header</h3>
<p>A PNG file starts with an 8-<a href="byte" class="uri" title="wikilink">byte</a> <a href="Binary_signature" title="wikilink">signature</a>. The <a href="hexadecimal" class="uri" title="wikilink">hexadecimal</a> byte values are <code>89 50 4E 47 0D 0A 1A 0A</code>; the decimal values are <code>137 80 78 71 13 10 26 10</code>. Each of the header bytes is there for a specific reason:<a href="#fn8" class="footnote-ref" id="fnref8"><sup>8</sup></a></p>
<table>
<thead>
<tr class="header">
<th><p>Bytes</p></th>
<th><p>Purpose</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><code>89</code></p></td>
<td><p>Has the high bit set to detect transmission systems that do not support <a href="8-bit_clean" title="wikilink">8 bit data</a> and to reduce the chance that a text file is mistakenly interpreted as a PNG, or vice versa.</p></td>
</tr>
<tr class="even">
<td><p><code>50 4E 47</code></p></td>
<td><p>In <a href="ASCII" class="uri" title="wikilink">ASCII</a>, the letters <em>PNG</em>, allowing a person to identify the format easily if it is viewed in a text editor.</p></td>
</tr>
<tr class="odd">
<td><p><code>0D 0A</code></p></td>
<td><p>A <a href="DOS" class="uri" title="wikilink">DOS</a>-style <a href="newline" title="wikilink">line ending</a> (CRLF) to detect DOS-Unix line ending conversion of the data.</p></td>
</tr>
<tr class="even">
<td><p><code>1A</code></p></td>
<td><p>A byte that stops display of the file under DOS when the command <a href="type_(command)" title="wikilink">type</a> has been used&lt;U+2014&gt;the <a href="end-of-file" class="uri" title="wikilink">end-of-file</a> character</p></td>
</tr>
<tr class="odd">
<td><p><code>0A</code></p></td>
<td><p>A Unix-style line ending (LF) to detect Unix-DOS line ending conversion.</p></td>
</tr>
</tbody>
</table>
<h3 id="chunks-within-the-file">&quot;Chunks&quot; within the file</h3>
<p>After the header comes a series of <a href="Chunk_(information)" title="wikilink">chunks</a>, each of which conveys certain information about the image. Chunks declare themselves as <em>critical</em> or <em>ancillary</em>, and a program encountering an ancillary chunk that it does not understand can safely ignore it. This chunk-based storage layer structure, similar in concept to a <a href="Container_format_(digital)" title="wikilink">container format</a>, is designed to allow the PNG format to be extended while maintaining compatibility with older versions&lt;U+2014&gt;it provides <a href="forward_compatibility" title="wikilink">forward compatibility</a>, and this same file structure (with different signature and chunks) is used in the associated <a href="MNG" class="uri" title="wikilink">MNG</a>, <a href="JPEG_Network_Graphics" title="wikilink">JNG</a>, and <a href="APNG" class="uri" title="wikilink">APNG</a> formats.</p>
<p>A chunk consists of four parts: length (4 bytes), chunk type/name (4 bytes), chunk data (length bytes) and <a href="cyclic_redundancy_check" title="wikilink">CRC</a> (cyclic redundancy code/checksum; 4 bytes). The CRC is a network-byte-order CRC-32 computed over the chunk type and chunk data, but not the length.</p>
<table>
<thead>
<tr class="header">
<th><p>Length</p></th>
<th><p>Chunk type</p></th>
<th><p>Chunk data</p></th>
<th><p>CRC</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>4 bytes</p></td>
<td><p>4 bytes</p></td>
<td><p><em>Length</em> bytes</p></td>
<td><p>4 bytes</p></td>
</tr>
</tbody>
</table>
<p>Chunks are given a four-letter <a href="Case_sensitivity" title="wikilink">case sensitive</a> ASCII type/name; compare <a href="FourCC" class="uri" title="wikilink">FourCC</a>. The case of the different letters in the name (bit 5 of the numeric value of the character) is a <a href="bit_field" title="wikilink">bit field</a> that provides the <a href="decoder" class="uri" title="wikilink">decoder</a> with some information on the nature of chunks it does not recognize.</p>
<p>The case of the first letter indicates whether the chunk is critical or not. If the first letter is uppercase, the chunk is critical; if not, the chunk is ancillary. Critical chunks contain information that is necessary to read the file. If a decoder encounters a critical chunk it does not recognize, it must abort reading the file or supply the user with an appropriate warning.</p>
<p>The case of the second letter indicates whether the chunk is &quot;public&quot; (either in the specification or the registry of special-purpose public chunks) or &quot;private&quot; (not standardised). Uppercase is public and lowercase is private. This ensures that public and private chunk names can never conflict with each other (although two private chunk names could conflict).</p>
<p>The third letter must be uppercase to conform to the PNG specification. It is reserved for future expansion. Decoders should treat a chunk with a lower case third letter the same as any other unrecognised chunk.</p>
<p>The case of the fourth letter indicates whether the chunk is safe to copy by editors that do not recognize it. If lowercase, the chunk may be safely copied regardless of the extent of modifications to the file. If uppercase, it may only be copied if the modifications have not touched any critical chunks.</p>
<h4 id="critical-chunks">Critical chunks</h4>
<p>A decoder must be able to interpret critical chunks to read and render a PNG file.</p>
<ul>
<li><code>IHDR</code> must be the first chunk; it contains the image's width, height, and bit depth.<a href="#fn9" class="footnote-ref" id="fnref9"><sup>9</sup></a></li>
<li><code>PLTE</code> contains the <a href="Palette_(computing)" title="wikilink">palette</a>; list of colors.</li>
<li><code>IDAT</code> contains the image, which may be split among multiple IDAT chunks. Such splitting increases filesize slightly, but makes it possible to generate a PNG in a streaming manner. The IDAT chunk contains the actual image data, which is the output stream of the compression algorithm.<a href="#fn10" class="footnote-ref" id="fnref10"><sup>10</sup></a></li>
<li><code>IEND</code> marks the image end.</li>
</ul>
<p>The <code>PLTE</code> chunk is essential for color type 3 (indexed color). It is optional for color types 2 and 6 (truecolor and truecolor with alpha) and it must not appear for color types 0 and 4 (grayscale and grayscale with alpha).</p>
<h4 id="ancillary-chunks">Ancillary chunks</h4>
<p>Other image attributes that can be stored in PNG files include <a href="gamma_correction" title="wikilink">gamma</a> values, background color, and textual <a href="metadata" class="uri" title="wikilink">metadata</a> information. PNG also supports <a href="color_management" title="wikilink">color management</a> through the inclusion of <a href="International_Color_Consortium" title="wikilink">ICC</a> <a href="color_space" title="wikilink">color space</a> profiles.<a href="#fn11" class="footnote-ref" id="fnref11"><sup>11</sup></a></p>
<ul>
<li><code>bKGD</code> gives the default background color. It is intended for use when there is no better choice available, such as in standalone image viewers (but not web browsers; see below for more details).</li>
<li><code>cHRM</code> gives the <a href="chromaticity" class="uri" title="wikilink">chromaticity</a> coordinates of the display <a href="Primary_color" title="wikilink">primaries</a> and <a href="white_point" title="wikilink">white point</a>.</li>
<li><code>gAMA</code> specifies <a href="Gamma_correction" title="wikilink">gamma</a>.</li>
<li><code>hIST</code> can store the histogram, or total amount of each color in the image.</li>
<li><code>iCCP</code> is an <a href="ICC_color_profile" title="wikilink">ICC color profile</a>.</li>
<li><code>iTXt</code> contains <a href="UTF-8" class="uri" title="wikilink">UTF-8</a> text, compressed or not, with an optional <a href="IETF_language_tag" title="wikilink">language tag</a>. iTXt chunk with the keyword 'XML:com.adobe.xmp' can contain <a href="Extensible_Metadata_Platform" title="wikilink">Extensible Metadata Platform</a> (XMP).</li>
<li><code>pHYs</code> holds the intended pixel size and/or <a href="aspect_ratio" title="wikilink">aspect ratio</a> of the image.</li>
<li><code>sBIT</code> (significant bits) indicates the color-accuracy of the source data.</li>
<li><code>sPLT</code> suggests a palette to use if the full range of colors is unavailable.</li>
<li><code>sRGB</code> indicates that the standard <a href="sRGB_color_space" title="wikilink">sRGB color space</a> is used.</li>
<li><code>sTER</code> stereo-image indicator chunk for <a href="stereoscopic" class="uri" title="wikilink">stereoscopic</a> images.<a href="#fn12" class="footnote-ref" id="fnref12"><sup>12</sup></a></li>
<li><code>tEXt</code> can store text that can be represented in <a href="ISO/IEC_8859-1" title="wikilink">ISO/IEC 8859-1</a>, with one name=value pair for each chunk.</li>
<li><code>tIME</code> stores the time that the image was last changed.</li>
<li><code>tRNS</code> contains transparency information. For indexed images, it stores alpha channel values for one or more palette entries. For truecolor and grayscale images, it stores a single pixel value that is to be regarded as fully transparent.</li>
<li><code>zTXt</code> contains compressed text with the same limits as <code>tEXt.</code></li>
</ul>
<p>The lowercase first letter in these chunks indicates that they are not needed for the PNG specification. The lowercase last letter in some chunks indicates that they are safe to copy, even if the application concerned does not understand them.</p>
<h3 id="color-depth">Color depth</h3>
<table>
<caption>PNG color options<a href="#fn13" class="footnote-ref" id="fnref13"><sup>13</sup></a></caption>
<thead>
<tr class="header">
<th><p>Bits per pixel</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Color option</p></td>
</tr>
<tr class="even">
<td><p>1</p></td>
</tr>
<tr class="odd">
<td><p>Indexed</p></td>
</tr>
<tr class="even">
<td><p>Grayscale</p></td>
</tr>
<tr class="odd">
<td><p>Grayscale &amp; alpha</p></td>
</tr>
<tr class="even">
<td><p>Truecolor</p></td>
</tr>
<tr class="odd">
<td><p>Truecolor &amp; alpha</p></td>
</tr>
</tbody>
</table>
<p>PNG images can either use palette-indexed color or be made up of one or more channels (numerical values directly representing quantities about the pixels). When there is more than one channel in an image all channels have the same number of bits allocated per pixel (known as the <a href="Color_depth" title="wikilink">bit depth</a> of the channel). Although the PNG specification always talks about the bit depth of channels, most software and users generally talk about the total number of bits per pixel (sometimes also referred to as bit depth or <a href="color_depth" title="wikilink">color depth</a>). If there is more than one channel, the number of bits per pixel is higher than the number of bits per channel, as shown in the illustration at right.</p>
<p>The number of channels will depend on whether the image is grayscale or color and whether it has an <a href="alpha_channel" title="wikilink">alpha channel</a>. PNG allows the following combinations of channels, called the <em>color type</em>.</p>
<p>The color type is specified in the color type field, which is a <a href="bit_field" title="wikilink">bit field</a>, as explained in the table below at right. Not all combinations are valid, however: there is no <em>indexed grayscale</em>, which would be color types 1 and 5; transparency in palette images is indicated by the presence of a <code>tRNS</code> chunk, not a separate channel, so there is no color type 7.</p>
<table>
<caption>PNG color types</caption>
<thead>
<tr class="header">
<th><p>Color<br />
type</p></th>
<th><p>Name</p></th>
<th><p>Binary</p></th>
<th><p>Masks</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p> </p></td>
<td><p>A</p></td>
<td><p>C</p></td>
<td><p>P</p></td>
</tr>
<tr class="even">
<td><p>0</p></td>
<td><p>Grayscale</p></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><p>1</p></td>
<td><p>(Indexed grayscale)</p></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Truecolor</p></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Indexed</p></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Grayscale &amp; alpha</p></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>(Indexed grayscale &amp; alpha)</p></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><p>6</p></td>
<td><p>Truecolor &amp; alpha</p></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><p>7</p></td>
<td><p>(Indexed &amp; alpha)</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>0: grayscale</li>
<li>2: red, green and blue: rgb/truecolor</li>
<li>3: indexed: channel containing indices into a palette of colors</li>
<li>4: grayscale and alpha: level of transparency for each pixel</li>
<li>6: red, green, blue and alpha</li>
</ul>
<p>With indexed color images, the palette is always stored in RGB at a depth of 8 bits per channel (24 bits per palette entry). Additionally, an optional array of 8-bit alpha values of the palette entries may be included. The palette must not have more entries than the image bit depth allows for, but it may have fewer (for example, if an image only uses 90 colors then it does not need palette entries for all 256 colors).</p>
<p>Indexed color PNGs are allowed to have 1, 2, 4 or 8 bits per pixel by the standard; grayscale images with no alpha channel allow for 1, 2, 4, 8 or 16 bits per pixel. Everything else uses a bit depth per channel of either 8 or 16. The combinations this allows are given in the table above. The standard requires that decoders can read all supported color formats, but many image editors can only produce a small subset of them.</p>
<h3 id="transparency-of-image">Transparency of image</h3>
<p>PNG offers a variety of transparency options. With truecolor and grayscale images either a single pixel value can be declared as transparent or an <a href="alpha_channel" title="wikilink">alpha channel</a> can be added (enabling any percentage of partial transparency to be used). For paletted images, alpha values can be added to palette entries. The number of such values stored may be less than the total number of palette entries, in which case the remaining entries are considered fully opaque.</p>
<p>The scanning of pixel values for binary transparency is supposed to be performed before any color reduction to avoid pixels' becoming unintentionally transparent. This is most likely to pose an issue for systems that can decode 16-bits-per-channel images (as they must to be compliant with the specification) but only output at 8 bits per channel (the norm for all but the highest end systems).</p>
<p>Alpha storage can be &quot;associated&quot; (&quot;premultiplied&quot;) or &quot;unassociated&quot;, but PNG standardized<a href="#fn14" class="footnote-ref" id="fnref14"><sup>14</sup></a> on &quot;unassociated&quot; (&quot;non-premultiplied&quot;) alpha so that images with separate transparency masks can be stored losslessly.</p>
<h3 id="compression">Compression</h3>
<p>PNG uses a 2-stage compression process:</p>
<ul>
<li>pre-compression: filtering (prediction)</li>
<li>compression: DEFLATE</li>
</ul>
<p>PNG uses a non-patented <a href="lossless_data_compression" title="wikilink">lossless data compression</a> method known as <a href="DEFLATE" class="uri" title="wikilink">DEFLATE</a>, which is the same algorithm used in the <a href="zlib" class="uri" title="wikilink">zlib</a> compression library.</p>
<h4 id="filtering">Filtering</h4>
<p><img src="Pixel-prediction.svg" title="fig:PNG&#39;s filter method 0 can use the data in pixels A, B, and C to predict the value for X." alt="PNG&#39;s filter method 0 can use the data in pixels A, B, and C to predict the value for X." width="128" /> <img src="PNG-Gradient.png" title="fig:A PNG with 256 colors, which is only 251 bytes large with pre-filter. The same image as a GIF would be more than thirteen times larger." alt="A PNG with 256 colors, which is only 251 bytes large with pre-filter. The same image as a GIF would be more than thirteen times larger." width="128" /></p>
<p>Before DEFLATE is applied, the data is precompressed, via a prediction method: a single <em>filter method</em> is used for the entire image, while for each image line, a <em>filter type</em> is chosen that transforms the data so that it is hopefully more easily compressed.<a href="#fn15" class="footnote-ref" id="fnref15"><sup>15</sup></a></p>
<p>There is only one filter method in the current PNG specification (denoted method 0), and thus in practice the only choice is which filter type to apply to each line. For this method, the filter predicts the value of each pixel based on the values of previous neighboring pixels, and subtracts the predicted color of the pixel from the actual value, as in <a href="DPCM" class="uri" title="wikilink">DPCM</a>. An image line filtered in this way is often more compressible than the raw image line would be, especially if it is similar to the line above, since the differences from prediction will generally be clustered around 0, rather than spread over all possible image values. This is particularly important in relating separate rows, since DEFLATE has no understanding that an image is a 2D entity, and instead just sees the image data as a stream of bytes.</p>
<p>There are five filter types for filter method 0; each type predicts the value of each byte (of the image data before filtering) based on the corresponding byte of the pixel to the left (<em>A</em>), the pixel above (<em>B</em>), and the pixel above and to the left (<em>C</em>) or some combination thereof, and encodes the <em>difference</em> between the predicted value and the actual value. Filters are applied to byte values, not pixels; pixel values may be one or two bytes, or several values per byte, but never cross byte boundaries. The filter types are:<a href="#fn16" class="footnote-ref" id="fnref16"><sup>16</sup></a></p>
<table>
<thead>
<tr class="header">
<th><p>Type byte</p></th>
<th><p>Filter name</p></th>
<th><p>Predicted value</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>0</p></td>
<td><p>None</p></td>
<td><p>Zero (so that the raw byte value passes through unaltered)</p></td>
</tr>
<tr class="even">
<td><p>1</p></td>
<td><p>Sub</p></td>
<td><p>Byte <em>A</em> (to the left)</p></td>
</tr>
<tr class="odd">
<td><p>2</p></td>
<td><p>Up</p></td>
<td><p>Byte <em>B</em> (above)</p></td>
</tr>
<tr class="even">
<td><p>3</p></td>
<td><p>Average</p></td>
<td><p>Mean of bytes <em>A</em> and <em>B</em>, rounded down</p></td>
</tr>
<tr class="odd">
<td><p>4</p></td>
<td><p>Paeth</p></td>
<td><p><em>A</em>, <em>B</em>, or <em>C</em>, whichever is closest to </p></td>
</tr>
</tbody>
</table>
<p>The Paeth filter is based on an algorithm by Alan W. Paeth.<a href="#fn17" class="footnote-ref" id="fnref17"><sup>17</sup></a> Compare to the version of <a href="DPCM" class="uri" title="wikilink">DPCM</a> used in <a href="lossless_JPEG" title="wikilink">lossless JPEG</a>, and to the <a href="discrete_wavelet_transform" title="wikilink">discrete wavelet transform</a> using 1&lt;U+00D7&gt;2, 2&lt;U+00D7&gt;1, or (for the Paeth predictor) 2&lt;U+00D7&gt;2 windows and <a href="Haar_wavelet" title="wikilink">Haar wavelets</a>.</p>
<p>Compression is further improved by choosing filter types adaptively on a line-by-line basis. This improvement, and a heuristic method of implementing it commonly used by PNG-writing software, were created by <a href="Lee_Daniel_Crocker" title="wikilink">Lee Daniel Crocker</a>, who tested the methods on many images during the creation of the format;<a href="#fn18" class="footnote-ref" id="fnref18"><sup>18</sup></a> the choice of filter is a component of file size optimization, as discussed below.</p>
<p>If interlacing is used, each stage of the interlacing is filtered separately, meaning that the image can be progressively rendered as each stage is received; however, interlacing generally makes compression less effective.</p>
<h3 id="interlacing">Interlacing</h3>
<p><img src="Adam7_passes.gif" title="fig:An illustration of Adam7 interlacing over a 16&lt;U+00D7&gt;16 image." alt="An illustration of Adam7 interlacing over a 16&lt;U+00D7&gt;16 image." /> PNG offers an optional 2-dimensional, 7-pass <a href="interlacing_(bitmaps)" title="wikilink">interlacing</a> scheme&lt;U+2014&gt;the <a href="Adam7_algorithm" title="wikilink">Adam7 algorithm</a>. This is more sophisticated than GIF's 1-dimensional, 4-pass scheme, and allows a clearer low-resolution image to be visible earlier in the transfer, particularly if interpolation algorithms such as <a href="bicubic_interpolation" title="wikilink">bicubic interpolation</a> are used.<a href="#fn19" class="footnote-ref" id="fnref19"><sup>19</sup></a></p>
<p>However, the 7-pass scheme tends to reduce the data's compressibility more than simpler schemes.</p>
<h3 id="animation">Animation</h3>
<p>PNG itself does not support animation at all. <a href="Multiple-image_Network_Graphics" title="wikilink">MNG</a> is an extension to PNG that does; it was designed by members of the PNG Group. MNG shares PNG's basic structure and chunks, but it is significantly more complex and has a different file signature, which automatically renders it incompatible with standard PNG decoders.</p>
<p>The complexity of MNG led to the proposal of <a href="APNG" class="uri" title="wikilink">APNG</a> by developers of the Mozilla Foundation. It is based on PNG, supports animation and is simpler than MNG. APNG offers fallback to single-image display for PNG decoders that do not support APNG. However, neither of these formats is currently widely supported. APNG is supported in <a href="Mozilla_Firefox" title="wikilink">Firefox</a> 3.0 and <a href="Opera_(web_browser)" title="wikilink">Opera</a> 9.5.<a href="#fn20" class="footnote-ref" id="fnref20"><sup>20</sup></a> The PNG Group decided in April 2007 not to embrace APNG.<a href="#fn21" class="footnote-ref" id="fnref21"><sup>21</sup></a> Several alternatives were under discussion, <a href="Animated_Network_Graphics" title="wikilink">ANG</a>, <a href="mPNG" title="wikilink">aNIM/mPNG</a>, &lt;U+201C&gt;<a href="PNG_in_GIF" title="wikilink">PNG in GIF</a>&lt;U+201D&gt; and its subset &lt;U+201C&gt;RGBA in GIF&lt;U+201D&gt;.<a href="#fn22" class="footnote-ref" id="fnref22"><sup>22</sup></a></p>
<h2 id="comparison-to-other-file-formats">Comparison to other file formats</h2>
<h3 id="comparison-to-graphics-interchange-format-gif">Comparison to Graphics Interchange Format (GIF)</h3>
<ul>
<li>On small images, GIF can achieve greater compression than PNG (see the <a href="#File_size_and_optimization_software" title="wikilink">section on filesize</a>, below).</li>
<li>On most images, except for the above cases, GIF will be bigger than indexed PNG.</li>
<li>PNG gives a much wider range of transparency options than GIF, including <a href="alpha_channel" title="wikilink">alpha channel</a> transparency.</li>
<li>Whereas GIF is limited to 8-bit <a href="indexed_color" title="wikilink">indexed color</a>, PNG gives a much wider range of color depths, including 24-bit (8 bits per channel) and 48-bit (16 bits per channel) <a href="True_Color" title="wikilink">truecolor</a>, allowing for greater color precision, smoother fades, etc.<a href="#fn23" class="footnote-ref" id="fnref23"><sup>23</sup></a> When an alpha channel is added, up to 64 bits per pixel (before compression) are possible.</li>
<li>When converting an image from the PNG format to GIF, the image quality may suffer due to <a href="posterization" class="uri" title="wikilink">posterization</a> if the PNG image has more than 256 colors.</li>
<li>GIF intrinsically supports animated images. PNG supports animation only via unofficial extensions (see the <a href="#Animation" title="wikilink">section on animation</a>, above).</li>
</ul>
<p>PNG images are less widely supported by older browsers. In particular, IE6 has limited support for PNG.<a href="#fn24" class="footnote-ref" id="fnref24"><sup>24</sup></a> As users adopt newer browsers, this becomes less of an issue.</p>
<h3 id="comparison-to-jpeg">Comparison to JPEG</h3>
<figure>
<img src="Comparison_of_JPEG_and_PNG.png" title="Composite image comparing lossy compression in JPEG with lossless compression in PNG: the JPEG artifacts are easily visible in the background, where the PNG image has solid color." alt="Composite image comparing lossy compression in JPEG with lossless compression in PNG: the JPEG artifacts are easily visible in the background, where the PNG image has solid color." width="200" /><figcaption>Composite image comparing lossy compression in JPEG with lossless compression in PNG: the JPEG artifacts are easily visible in the background, where the PNG image has solid color.</figcaption>
</figure>
<p><a href="JPEG" class="uri" title="wikilink">JPEG</a> (Joint Photographic Experts Group) format can produce a smaller file than PNG for <a href="photography" title="wikilink">photographic</a> (and photo-like) images, since JPEG uses a <a href="lossy_compression" title="wikilink">lossy encoding method</a> specifically designed for photographic image data, which is typically dominated by soft, low-contrast transitions, and an amount of noise or similar irregular structures. Using PNG instead of a high-quality JPEG for such images would result in a large increase in filesize with <a href="transparency_(data_compression)" title="wikilink">negligible</a> gain in quality. In contrast, when storing images that contain text, line art, or graphics &lt;U+2013&gt; images with sharp transitions and large areas of solid color &lt;U+2013&gt; the PNG format can compress image data more than JPEG can. Additionally, PNG is lossless, while JPEG produces noticeable visual artifacts around high-contrast areas. Where an image contains both sharp transitions and photographic parts a choice must be made between the two effects. JPEG does not support transparency.</p>
<p>Because JPEG uses lossy compression, it also suffers from <a href="generation_loss" title="wikilink">generation loss</a>, where repeatedly encoding and decoding an image progressively loses information and degrades the image. Because PNG is lossless, it is suitable for storing images to be edited. While PNG is reasonably efficient when compressing photographic images, there are lossless compression formats designed specifically for photographic images, <a href="lossless_JPEG_2000" title="wikilink">lossless JPEG 2000</a> and <a href="Adobe_DNG" title="wikilink">Adobe DNG</a> (digital negative) for example. However these formats are either not widely supported, or proprietary. An image can be stored losslessly and converted to JPEG format only for distribution, so that there is no generation loss.</p>
<p>The PNG specification does not include a standard for embedded <a href="Exchangeable_image_file_format" title="wikilink">Exif</a> image data from sources such as digital cameras. <a href="TIFF" class="uri" title="wikilink">TIFF</a>, JPEG 2000, and DNG support EXIF data.</p>
<p>Early web browsers did not support PNG images; JPEG and GIF were the main image formats. JPEG was commonly used when exporting images containing gradients for web pages, because of GIF's limited color depth. However, JPEG compression causes a gradient to blur slightly. A PNG file will reproduce a gradient as accurately as possible for a given bit depth, while keeping the file size small. PNG became the optimal choice for small gradient images as web browser support for the format improved.</p>
<h3 id="comparison-to-jpeg-ls">Comparison to JPEG-LS</h3>
<p><a href="JPEG-LS" class="uri" title="wikilink">JPEG-LS</a> is a &quot;near-lossless&quot; image format by the <a href="Joint_Photographic_Experts_Group" title="wikilink">Joint Photographic Experts Group</a>, though far less widely known and supported than the other lossy JPEG format discussed above. It is directly comparable with PNG, and has a standard set of test images.<a href="#fn25" class="footnote-ref" id="fnref25"><sup>25</sup></a> On the Waterloo Repertoire ColorSet, a standard set of test images (unrelated to the JPEG-LS conformance test set), JPEG-LS generally performs better than PNG, by 10&lt;U+2013&gt;15%, but on some images PNG performs substantially better, on the order of 50&lt;U+2013&gt;75%.<a href="#fn26" class="footnote-ref" id="fnref26"><sup>26</sup></a> Thus, if both of these formats are options and file size is an important criterion, they should both be considered, depending on the image.</p>
<h3 id="comparison-to-tiff">Comparison to TIFF</h3>
<p><a href="Tagged_Image_File_Format" title="wikilink">Tagged Image File Format</a> (TIFF) is a format that incorporates an extremely wide range of options. While this makes TIFF useful as a generic format for interchange between professional image editing applications, it makes adding support for it to applications a much bigger task and so it has little support in applications not concerned with image manipulation (such as web browsers). It also means that many applications can read only a subset of TIFF types, potentially creating more user confusion.</p>
<p>The most common general-purpose, lossless compression algorithm used with TIFF is <a href="Lempel&lt;U+2013&gt;Ziv&lt;U+2013&gt;Welch" class="uri" title="wikilink">Lempel&lt;U+2013&gt;Ziv&lt;U+2013&gt;Welch</a> (LZW). This compression technique, also used in GIF, was covered by patents until 2003. There is a TIFF variant that uses the same compression algorithm as PNG, but it is not supported by many proprietary programs. TIFF also offers special-purpose lossless compression algorithms like <a href="CCITT_Group_IV" title="wikilink">CCITT Group IV</a>, which can compress <a href="binary_image" title="wikilink">bilevel images</a> (e.g., faxes or black-and-white text) better than PNG's compression algorithm.</p>
<p>PNG supports non-premultiplied alpha only<a href="#fn27" class="footnote-ref" id="fnref27"><sup>27</sup></a> whereas TIFF also supports &quot;associated&quot; (premultiplied) alpha.</p>
<h2 id="software-support">Software support</h2>
<h3 id="bitmap-graphics-editor-support-for-png">Bitmap graphics editor support for PNG</h3>

<p>The PNG format is widely supported by graphics programs, including <a href="Adobe_Photoshop" title="wikilink">Adobe Photoshop</a>, <a href="Corel" class="uri" title="wikilink">Corel</a>'s <a href="Corel_Photo-Paint" title="wikilink">Photo-Paint</a> and <a href="Corel_Paint_Shop_Pro" title="wikilink">Paint Shop Pro</a>, the <a href="GIMP" class="uri" title="wikilink">GIMP</a>, <a href="GraphicConverter" class="uri" title="wikilink">GraphicConverter</a>, <a href="Helicon_Filter" title="wikilink">Helicon Filter</a>, <a href="ImageMagick" class="uri" title="wikilink">ImageMagick</a>, <a href="Inkscape" class="uri" title="wikilink">Inkscape</a>, <a href="IrfanView" class="uri" title="wikilink">IrfanView</a>, <a href="Pixel_image_editor" title="wikilink">Pixel image editor</a>, <a href="Paint.NET" class="uri" title="wikilink">Paint.NET</a> and <a href="Xara_Photo_&amp;_Graphic_Designer" title="wikilink">Xara Photo &amp; Graphic Designer</a> and many others. Some programs bundled with popular <a href="operating_system" title="wikilink">operating systems</a> which support PNG include <a href="Microsoft" class="uri" title="wikilink">Microsoft</a>'s <a href="Paint_(software)" title="wikilink">Paint</a> and <a href="Apple_Inc." title="wikilink">Apple</a>'s <a href="iPhoto" class="uri" title="wikilink">iPhoto</a> and <a href="Preview_(software)" title="wikilink">Preview</a>, with the GIMP also often being bundled with popular <a href="GNU/Linux" class="uri" title="wikilink">GNU/Linux</a> distributions.</p>
<p><a href="Adobe_Fireworks" title="wikilink">Adobe Fireworks</a> (formerly by <a href="Macromedia" class="uri" title="wikilink">Macromedia</a>) uses PNG as its native file format, allowing other image editors and preview utilities to view the flattened image. However, Fireworks by default also stores meta data for layers, animation, vector data, text and effects. Such files should not be distributed directly. Fireworks can instead export the image as an optimized PNG without the extra meta data for use on web pages, etc.</p>
<h3 id="web-browser-support-for-png">Web browser support for PNG</h3>

<p>PNG support first appeared in <a href="Internet_Explorer" title="wikilink">Internet Explorer</a> 4.0b1 and in <a href="Netscape" class="uri" title="wikilink">Netscape</a> 4.04.<a href="#fn28" class="footnote-ref" id="fnref28"><sup>28</sup></a></p>
<p>Despite calls by the <a href="Free_Software_Foundation" title="wikilink">Free Software Foundation</a><a href="#fn29" class="footnote-ref" id="fnref29"><sup>29</sup></a> and the <a href="World_Wide_Web_Consortium" title="wikilink">World Wide Web Consortium</a> (W3C),<a href="#fn30" class="footnote-ref" id="fnref30"><sup>30</sup></a> tools such as gif2png,<a href="#fn31" class="footnote-ref" id="fnref31"><sup>31</sup></a> and campaigns such as Burn All GIFs,<a href="#fn32" class="footnote-ref" id="fnref32"><sup>32</sup></a> PNG adoption on websites has been fairly slow due to late and buggy support in Internet Explorer, particularly regarding transparency.<a href="#fn33" class="footnote-ref" id="fnref33"><sup>33</sup></a></p>
<p>PNG is found to be in use less than <a href="GIF" class="uri" title="wikilink">GIF</a> for a few reasons :</p>
<ul>
<li>No support on old browsers (such as Internet Explorer below version 4).</li>
<li>No animation, still images only (unlike GIF, though Mozilla's unofficial <a href="APNG" class="uri" title="wikilink">APNG</a> format is a potential solution).</li>
<li>Force of habit</li>
</ul>
<p>PNG compatible browsers include: Apple <a href="Safari_(web_browser)" title="wikilink">Safari</a>, <a href="Google_Chrome" title="wikilink">Google Chrome</a>, <a href="Mozilla_Firefox" title="wikilink">Mozilla Firefox</a>, <a href="Opera_(web_browser)" title="wikilink">Opera</a>, <a href="Camino" class="uri" title="wikilink">Camino</a>, <a href="Internet_Explorer_7" title="wikilink">Internet Explorer 7</a> (still numerous issues),<a href="#fn34" class="footnote-ref" id="fnref34"><sup>34</sup></a> <a href="Internet_Explorer_8" title="wikilink">Internet Explorer 8</a> (still some issues), <a href="Internet_Explorer_9" title="wikilink">Internet Explorer 9</a> and many others. For the complete comparison, see <a href="Comparison_of_web_browsers#Image_format_support" title="wikilink">Comparison of web browsers (Image format support)</a>.</p>
<p>Especially versions of Internet Explorer (Windows) below 9.0 have numerous problems which prevent it from correctly rendering PNG images.<a href="#fn35" class="footnote-ref" id="fnref35"><sup>35</sup></a></p>
<ul>
<li>4.0 crashes on large PNG chunks.<a href="#fn36" class="footnote-ref" id="fnref36"><sup>36</sup></a></li>
<li>4.0 does not include the functionality to view .png files,<a href="#fn37" class="footnote-ref" id="fnref37"><sup>37</sup></a> but there is a registry fix.<a href="#fn38" class="footnote-ref" id="fnref38"><sup>38</sup></a></li>
<li>5.0 and 5.01 have broken OBJECT support.<a href="#fn39" class="footnote-ref" id="fnref39"><sup>39</sup></a></li>
<li>5.01 prints palette images with black (or dark gray) backgrounds under Windows 98, sometimes with radically altered colors.<a href="#fn40" class="footnote-ref" id="fnref40"><sup>40</sup></a></li>
<li>6.0 fails to display PNG images of 4097 or 4098 bytes in size.<a href="#fn41" class="footnote-ref" id="fnref41"><sup>41</sup></a></li>
<li>6.0 cannot open a PNG file that contains one or more zero-length IDAT chunks. This issue was first fixed in security update 947864 (MS08-024). For more information, see this article in the Microsoft Knowledge Base: <a href="http://support.microsoft.com/kb/947864/">947864</a> MS08-024: Cumulative Security Update for Internet Explorer <a href="#fn42" class="footnote-ref" id="fnref42"><sup>42</sup></a></li>
<li>6.0 sometimes completely loses ability to display PNGs, but there are various fixes.<a href="#fn43" class="footnote-ref" id="fnref43"><sup>43</sup></a></li>
<li>6.0 and below have broken alpha-channel transparency support (will display the default background color instead).<a href="#fn44" class="footnote-ref" id="fnref44"><sup>44</sup></a><a href="#fn45" class="footnote-ref" id="fnref45"><sup>45</sup></a><a href="#fn46" class="footnote-ref" id="fnref46"><sup>46</sup></a> However there are various fixes:
<ul>
<li><a href="http://schoberg.net/2009/07/degradable-png-transparency-for-ie6/">Degradable PNG Transparency for IE6</a></li>
<li><a href="http://webfx.eae.net/dhtml/pngbehavior/pngbehavior.html">webfx - PNG Behavior</a> (IE behavior/.htc)</li>
<li><a href="http://homepage.ntlworld.com/bobosola/">The PNG problem in Windows Internet Explorer</a> (IE behavior/.htc) (unmaintained)</li>
<li><a href="http://www.twinhelix.com/css/iepngfix/">TwinHelix - Near-native PNG support with alpha opacity to IE 5.5 and 6</a> (IE behavior/.htc)</li>
<li><a href="http://pp.flixn.com/2008/05/11/a-better-ie-55-and-6-png-fix/">A Better IE 5.5 and 6 PNG Fix (supports CSS background-position, background-repeat)</a> (IE behavior/.htc)</li>
<li><a href="http://24ways.org/2007/supersleight-transparent-png-in-ie6">24ways.org - Transparent PNGs in Internet Explorer 6 by Drew McLellan</a> (Javascript)</li>
<li><a href="http://koivi.com/ie-png-transparency/">PNG-24 Alpha Transparency With Microsoft Internet Explorer or better (MSIE 5.5+)</a> (PHP)</li>
<li><a href="http://blog.psyrendust.com/pngpong/">PNGPong, an open source solution to display transparent PNGs in IE, Firefox, and Safari without the use of filters, PHP, or complicated Javascript and CSS</a> (JavaScript+Flash)</li>
<li><a href="http://www.drunkenfist.com/304/2007/04/04/cross-browser-png-transparency-part-2/">Cross Browser PNG Transparency</a> (CSS)</li>
<li><a href="http://www.pluitsolutions.com/2008/04/11/solving-css-png-fix-background-none-call/">CSS PNG fix (with background call none fix)</a> (CSS)</li>
<li><a href="http://www.sitepoint.com/blogs/2007/09/18/png8-the-clear-winner/">SitePoint - Use 8-bit PNGs with Fireworks</a></li>
<li><a href="http://cubicspot.blogspot.com/2010/01/transparent-png8-is-solution-to-ie6.html">Use 8-bit PNGs with Photoshop and pngquant</a></li>
<li><a href="http://dillerdesign.com/experiment/DD_belatedPNG/">dillerdesign belatedPNG</a> (JavaScript+VML)</li>
<li><a href="http://dean.edwards.name/weblog/2008/01/ie7-2/">Dean Edwards&lt;U+2019&gt;s IE7.js and IE8.js</a> fixes this issue (for specially-named .PNG files, for performance reasons), and other IE 5.5, 6, and 7 CSS incompatibilities as well.</li>
</ul></li>
<li>7.0 and below cannot combine 8-bit alpha transparency AND element opacity (<a href="Cascading_Style_Sheets" title="wikilink">CSS</a> - filter: Alpha(opacity=xx)) without filling partially transparent sections with black.<a href="#fn47" class="footnote-ref" id="fnref47"><sup>47</sup></a></li>
<li>8.0 and below have inconsistent/broken gamma support.<a href="#fn48" class="footnote-ref" id="fnref48"><sup>48</sup></a></li>
<li>8.0 and below don't have color-correction support.<a href="#fn49" class="footnote-ref" id="fnref49"><sup>49</sup></a></li>
</ul>
<h3 id="operating-system-support-for-png-icons">Operating system support for PNG icons</h3>
<p>PNG icons have been supported in most distributions of <a href="GNU/Linux" class="uri" title="wikilink">GNU/Linux</a> since at least 1999, in desktop environments such as <a href="GNOME" class="uri" title="wikilink">GNOME</a>.<a href="#fn50" class="footnote-ref" id="fnref50"><sup>50</sup></a> In 2006, <a href="Microsoft_Windows" title="wikilink">Microsoft Windows</a> support for PNG icons was introduced in <a href="Windows_Vista" title="wikilink">Windows Vista</a>.<a href="#fn51" class="footnote-ref" id="fnref51"><sup>51</sup></a> PNG icons are supported in <a href="AROS" class="uri" title="wikilink">AROS</a>, <a href="Mac_OS_X" title="wikilink">Mac OS X</a>, <a href="iOS" class="uri" title="wikilink">iOS</a> and <a href="MorphOS" class="uri" title="wikilink">MorphOS</a> as well. In addition, <a href="Android_(operating_system)" title="wikilink">Android</a> makes a large use of PNGs.</p>
<h2 id="file-size-and-optimization-software">File size and optimization software</h2>
<p>PNG file size can vary significantly depending on how it is encoded and compressed; this is discussed and a number of tips are given in <em>PNG: The Definitive Guide.</em><a href="#fn52" class="footnote-ref" id="fnref52"><sup>52</sup></a></p>
<h3 id="compared-to-gif">Compared to GIF</h3>
<p>Compared to GIF files, a PNG file with the same information (256 colors, no ancillary chunks/metadata), compressed by an effective compressor will normally be smaller than GIF. Depending on the file and the compressor, PNG may range from somewhat smaller (10%) to significantly smaller (50%) to somewhat larger (5%), but is rarely significantly larger <a href="#fn53" class="footnote-ref" id="fnref53"><sup>53</sup></a> for large images. This is attributed to the performance of PNG's <a href="DEFLATE" class="uri" title="wikilink">DEFLATE</a> compared to GIF's <a href="LZW" class="uri" title="wikilink">LZW</a>, and because the added precompression layer of PNG's predictive filters take account of the 2-dimensional image structure to further compress files; as filtered data encodes differences between pixels, they will tend to cluster closer to 0, rather than being spread across all possible values, and thus be more easily compressed by DEFLATE. However, some versions of <a href="Adobe_Photoshop" title="wikilink">Adobe Photoshop</a>, <a href="CorelDRAW" class="uri" title="wikilink">CorelDRAW</a> and <a href="Paint_(software)" title="wikilink">MS Paint</a> provide poor PNG compression, creating the impression that GIF is more efficient.<a href="#fn54" class="footnote-ref" id="fnref54"><sup>54</sup></a></p>
<h3 id="file-size-factors">File size factors</h3>
<p>PNG files vary in size due to a number of factors:</p>
<dl>
<dt>color depth: Color depth can range from 1 to 64 bits per pixel.<br />
ancillary chunks: PNG supports metadata&lt;U+2014&gt;this may be useful for editing, but unnecessary for viewing, as on websites.<br />
interlacing: As each pass of the Adam7 algorithm is separately filtered, this can increase file size.<a href="#fn55" class="footnote-ref" id="fnref55"><sup>55</sup></a><br />
filter: As a precompression stage, each line is filtered by a predictive filter, which can change from line to line. As the ultimate DEFLATE step operates on the whole image's filtered data, one cannot optimize this row-by-row; the choice of filter for each row is thus potentially very variable, though heuristics exist.<br />
compression: With additional computation, DEFLATE compressors can produce smaller files.</dt>

</dl>
<p>There is thus a filesize trade-off between high color depth, maximal metadata (including color space information, together with information that does not affect display), interlacing, and speed of compression, which all yield large files, with lower color depth, fewer or no ancillary chunks, no interlacing, and tuned but computationally intensive filtering and compression. For different purposes one will choose different trade-offs: a maximal file may be best for archiving and editing, while a stripped down file may be best for use on a website, and similarly fast but poor compression is preferred when repeatedly editing and saving a file, while slow but high compression is preferred when a file is stable: when archiving or posting. Interlacing is a trade-off: it dramatically speeds up early rendering of large files (improves latency), but may increase file size (decrease throughput) for little gain, particularly for small files.<a href="#fn56" class="footnote-ref" id="fnref56"><sup>56</sup></a></p>
<h4 id="lossy-png-compression">Lossy PNG compression</h4>
<p>Even though PNG has been designed as a lossless format PNG encoders can pre-process image data in a lossy fashion to improve PNG compression.<a href="#fn57" class="footnote-ref" id="fnref57"><sup>57</sup></a></p>
<h3 id="image-editing-software">Image editing software</h3>
<p>Some programs are more efficient than others when saving PNG files, this relates to implementation of the PNG compression used by the program.</p>
<p>Many graphics programs (such as Apple's <a href="Preview_(software)" title="wikilink">Preview</a> software) save PNGs with large amounts of <a href="metadata" class="uri" title="wikilink">metadata</a> and color-correction data that are generally unnecessary for <a href="World_Wide_Web" title="wikilink">Web</a> viewing. Unoptimized PNG files from <a href="Adobe_Fireworks" title="wikilink">Adobe Fireworks</a> are also notorious for this since they contain options to make the image editable in supported editors. Also CorelDRAW (at least version 11) sometimes produces PNGs which cannot be opened by Internet Explorer (versions 6&lt;U+2013&gt;8).</p>
<p><a href="Adobe_Photoshop" title="wikilink">Adobe Photoshop</a>'s performance on PNG files has improved in the CS Suite when using the Save For Web feature (which also allows explicit PNG/8 use).</p>
<p>Adobe's Fireworks saves larger PNG files than many programs by default. This stems from the mechanics of its <em>Save</em> format, the images produced by Fireworks save function include large, private chunks, containing complete layer and vector information. This allows further lossless editing. When saved with the <em>Export</em> option, Fireworks' PNGs are competitive with those produced by other image editors, but are no longer editable as anything but flattened bitmaps. Fireworks is unable to save size-optimized vector-editable PNGs.</p>
<p>Other notable examples of poor PNG compressors include:</p>
<ul>
<li>Microsoft's Paint for Windows XP</li>
<li>Microsoft Picture It! Photo Premium 9</li>
</ul>
<p>Poor compression increases the PNG file size but does not affect the image quality or compatibility of the file with other programs.</p>
<p>Because GIF is <a href="Graphics_Interchange_Format#True_color" title="wikilink">de facto limited to 256 colors</a> (GIF87a Standard), image editors must automatically reduce the color depth when saving an image in GIF format. Often, when people save the same <a href="True_Color" title="wikilink">truecolor</a> image as PNG and GIF, they see that the GIF is smaller, and do not realize that this is due to the color depth reduction, and that it is possible to create a 256-color PNG that has identical quality to the GIF with a smaller file size. Further, some tools may automatically create PNG files as 24-bit, even if the source image is 8-bit, bloating the file.<a href="#fn58" class="footnote-ref" id="fnref58"><sup>58</sup></a> This leads to the misconception that PNG files are larger than equivalent GIF files.</p>
<h3 id="optimizing-tools">Optimizing tools</h3>
<p>Various tools are available for optimizing PNG files; they do this by:</p>
<ul>
<li>(optionally) removing ancillary chunks,</li>
<li>reducing color depth, either:
<ul>
<li>use a palette (instead of RGB) if the image has 256 or fewer colors,</li>
<li>use a smaller palette, if the image has 2, 4, or 16 colors, or</li>
<li>(optionally) lossily discard some of the data in the original image,</li>
</ul></li>
<li>optimizing line-by-line filter choice, and</li>
<li>optimizing DEFLATE compression.</li>
</ul>
<p>As some tools are PNG-specific, while others only optimize DEFLATE, in general one must use a combination of 2 tools in sequence for optimal compression: one which optimizes filters (and removes ancillary chunks), and one which optimizes DEFLATE. Most commonly, OptiPNG is used for the first (non-DEFLATE) step, and either of AdvanceCOMP or PNGOUT is used for the DEFLATE step.</p>
<h4 id="ancillary-chunk-removal">Ancillary chunk removal</h4>
<p>For removing ancillary chunks, <a href="pngcrush" class="uri" title="wikilink">pngcrush</a> and <a href="PNGOUT" class="uri" title="wikilink">PNGOUT</a> have the ability to remove all color correction data from PNG files (gamma, white balance, ICC color profile, standard RGB color profile). This often results in much smaller file sizes. The following command line options achieve this with pngcrush:</p>
<p><code>pngcrush -rem gAMA -rem cHRM -rem iCCP -rem sRGB </code><em><code>InputFile.png</code></em><code> </code><em><code>OutputFile.png</code></em></p>
<p>Ancillary chunks can also be losslessly removed using the free Win32 program <a href="http://www.fieggen.com/software/pngextra.htm">PNGExtra</a>.</p>
<h4 id="filter-optimization">Filter optimization</h4>
<p>For optimizing filters, OptiPNG and <a href="pngcrush" class="uri" title="wikilink">pngcrush</a> are both <a href="open_source_software" title="wikilink">open source software</a> optimizers that run from a <a href="Unix" class="uri" title="wikilink">Unix</a> command line or a Windows Command Prompt, and effectively reduce the size of PNG files. OptiPNG was based on pngcrush and effectively supersedes it, by iterating over a wider range of compression parameters and performing trials in memory for faster execution,<a href="#fn59" class="footnote-ref" id="fnref59"><sup>59</sup></a> as well as performing automatic bit depth, color type and color palette reduction where possible.</p>
<h4 id="deflate-optimization">DEFLATE optimization</h4>
<p><a href="AdvanceCOMP" class="uri" title="wikilink">AdvanceCOMP</a> <code>advdef</code> and <a href="Ken_Silverman" title="wikilink">Ken Silverman</a>'s <a href="PNGOUT" class="uri" title="wikilink">PNGOUT</a> and Glenn Randers-Pehrson's <a href="pngcrush" class="uri" title="wikilink">pngcrush</a>, <a href="Image-Pngslimmer" title="wikilink">Image::Pngslimmer</a> and <a href="http://code.google.com/r/ehoeks-zopfli-png/">ehoeks-zopfli-png</a> employ <a href="DEFLATE" class="uri" title="wikilink">DEFLATE</a> compression algorithms that are more exhaustive and produce smaller files than the reference implementation, <a href="zlib" class="uri" title="wikilink">zlib</a>, that is used by the other compressors.</p>
<h4 id="wrapper-tools">Wrapper tools</h4>
<p>Wrapper tools that simplify this workflow include: <a href="http://pornel.net/imageoptim/en">ImageOptim</a>, a GUI front-end for Mac OS X; Kashmir Web Optimizer- GUI front-end for Windows; <a href="http://lyncd.com/2009/03/imgopt-lossless-optimize-png-jpeg/">imgopt</a>, a command-line shell script that also losslessly optimizes JPEG images, <a href="http://smush.it/">Smush.it</a>, an image-optimizing web service; <a href="http://tinypng.org/">TinyPNG</a>, which provides compression by reducing the number of colors in the image to 256, but preserving alpha transparency; and <a href="http://compresspng.com/">Compress PNG</a> that permits even further pallete size reductions, down to 2 colors.</p>
<p>The <a href="http://sourceforge.net/projects/littleutils">littleutils</a> are another open-source package, containing a wrapper script called opt-png that uses <a href="pngcrush" class="uri" title="wikilink">pngcrush</a> and a variant of <a href="http://entropymine.com/jason/pngrewrite/">pngrewrite</a> to reduce bit-depth when possible. <a href="Perl" class="uri" title="wikilink">Perl</a> scripts might wish to employ <a href="Image-Pngslimmer" class="uri" title="wikilink">Image-Pngslimmer</a> which allows some dynamic optimization.</p>
<p>The current version of <a href="IrfanView" class="uri" title="wikilink">IrfanView</a> can use PNGOUT as an external plug-in, obviating the need for a separate compressor.</p>
<h3 id="icon-optimization">Icon optimization</h3>
<p>Since <a href="Computer_icon" title="wikilink">icons</a> intended for Windows Vista and later versions may contain PNG subimages, the optimizations can be applied to them as well. At least one <a href="icon_editor" title="wikilink">icon editor</a>, <a href="http://www.qualibyte.com/pixelformer/">Pixelformer</a>, is able to perform a special optimization pass while saving <a href="ICO_(icon_image_file_format)" title="wikilink">ICO</a> files, thereby reducing their sizes.</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="Comparison_of_graphics_file_formats" title="wikilink">Comparison of graphics file formats</a></li>
<li><a href="Computer_graphics" title="wikilink">Computer graphics</a>, including:
<ul>
<li><a href="Comparison_of_layout_engines_(graphics)" title="wikilink">Comparison of layout engines (graphics)</a></li>
</ul></li>
<li><a href="Image_editing" title="wikilink">Image editing</a></li>
<li><a href="Image_file_formats" title="wikilink">Image file formats</a></li>
<li><a href="libpng" class="uri" title="wikilink">libpng</a></li>
<li>Related <a href="graphics_file_format" title="wikilink">graphics file formats</a>
<ul>
<li><a href="APNG" class="uri" title="wikilink">APNG</a> Animated PNG</li>
<li><a href="JPEG_Network_Graphics" title="wikilink">JPEG Network Graphics</a> (JNG)</li>
<li><a href="Multiple-image_Network_Graphics" title="wikilink">Multiple-image Network Graphics</a> (MNG)</li>
</ul></li>
<li>Similar file formats
<ul>
<li><a href="Graphics_Interchange_Format" title="wikilink">Graphics Interchange Format</a> (GIF)</li>
<li><a href="X_PixMap" title="wikilink">X PixMap</a> for portable icons</li>
</ul></li>
<li><a href="Scalable_Vector_Graphics" title="wikilink">Scalable Vector Graphics</a></li>
<li><a href="WebP" class="uri" title="wikilink">WebP</a></li>
</ul>
<h2 id="references">References</h2>

<h2 id="further-reading">Further reading</h2>
<ul>
<li></li>
<li></li>
</ul>
<h2 id="external-links">External links</h2>
<h3 id="libpng.org">libpng.org</h3>
<ul>
<li><a href="http://www.libpng.org/pub/png/">PNG Home Site</a></li>
<li><a href="http://www.libpng.org/pub/png/libpng.html">libpng Home Page</a></li>
<li><a href="http://www.libpng.org/pub/png/slashpng-1999.html"><em>The Story of PNG</em> by Greg Roelofs</a></li>
</ul>
<h3 id="w3c">W3C</h3>
<ul>
<li><a href="http://www.w3.org/TR/PNG/">PNG Specification (Latest Edition)</a></li>
<li><a href="http://www.w3.org/Graphics/PNG/Inline-img.html">Test inline PNG images</a></li>
</ul>
<h3 id="others">Others</h3>
<ul>
<li><a href="http://www.mywebsite.force9.co.uk/png/">An introduction to the PNG image format</a> &lt;U+2014&gt; Including test images, file editing tips, and reviews of PNG image tools for Windows.</li>
<li>RFC 2083</li>
<li><a href="http://entropymine.com/jason/testbed/pngtrans/">PNG transparency test</a></li>
<li><a href="http://mrclay.org/web_design/lonely_planet/">&quot;The Lonely Planet&quot;</a> &lt;U+2014&gt; PNG-based animation for web browsers</li>
<li><a href="http://hsivonen.iki.fi/png-gamma/">More information about PNG color correction</a></li>
<li><a href="http://php.net/gd">The GD-library to generate dynamic PNG-files with PHP</a></li>
<li><a href="http://optipng.sourceforge.net/pngtech/optipng.html">A guide to PNG optimization</a></li>
<li><a href="http://schaik.com/png/adam7.html">PNG Adam7 interlacing</a></li>
<li><a href="http://www.xarg.org/2010/03/generate-client-side-png-files-using-javascript/">JavaScript PNG library</a> Generate client-side PNG files using JavaScript</li>
<li><a href="http://lodev.org/lodepng/">lodepng</a>: by Lode Vandevenne. An open source PNG encoder and decoder for C and C++ with no external dependencies.</li>
<li><a href="http://code.google.com/p/pngj/">PNGJ</a>: A pure Java PNG encoder and decoder.</li>
<li><a href="http://optipng.sourceforge.net/">OptiPNG PNG optimizer</a></li>
<li><a href="http://www.idontplaydarts.com/2012/06/encoding-web-shells-in-png-idat-chunks/">Encoding Web Shells in PNG files</a>: Encoding human readable data inside an IDAT block.</li>
</ul>


<p><a href="Category:Graphics_file_formats" title="wikilink">Category:Graphics file formats</a> <a href="Category:Graphics_standards" title="wikilink">Category:Graphics standards</a> <a href="Category:ISO_standards" title="wikilink">Category:ISO standards</a> <a href="Category:World_Wide_Web_Consortium_standards" title="wikilink">Category:World Wide Web Consortium standards</a> <a href="Category:Open_formats" title="wikilink">Category:Open formats</a> <a href="Category:Image_compression" title="wikilink">Category:Image compression</a></p>
<section class="footnotes">
<hr />
<ol>
<li id="fn1"><a href="#fnref1" class="footnote-back">↩</a></li>
<li id="fn2"><a href="#fnref2" class="footnote-back">↩</a></li>
<li id="fn3"><a href="http://www.iana.org/assignments/media-types/image/png">IANA.org</a><a href="#fnref3" class="footnote-back">↩</a></li>
<li id="fn4"></li>
<li id="fn5"><a href="#fnref5" class="footnote-back">↩</a></li>
<li id="fn6"></li>
<li id="fn7"><a href="#fnref7" class="footnote-back">↩</a></li>
<li id="fn8"><a href="#fnref8" class="footnote-back">↩</a></li>
<li id="fn9"><a href="#fnref9" class="footnote-back">↩</a></li>
<li id="fn10"><a href="#fnref10" class="footnote-back">↩</a></li>
<li id="fn11"><a href="#fnref11" class="footnote-back">↩</a></li>
<li id="fn12"><a href="#fnref12" class="footnote-back">↩</a></li>
<li id="fn13"><a href="http://www.w3.org/TR/PNG/#11IHDR">Portable Network Graphics (PNG) Specification (Second Edition): 11.2.2 IHDR Image header</a>.<a href="#fnref13" class="footnote-back">↩</a></li>
<li id="fn14"><a href="http://www.w3.org/TR/PNG-Rationale.html">PNG Specification: Rationale</a><a href="#fnref14" class="footnote-back">↩</a></li>
<li id="fn15"><a href="#fnref15" class="footnote-back">↩</a></li>
<li id="fn16"><a href="#fnref16" class="footnote-back">↩</a></li>
<li id="fn17">Paeth, A.W., &quot;Image File Compression Made Easy&quot;, in Graphics Gems II, James Arvo, editor. Academic Press, San Diego, 1991. ISBN 0-12-064480-0.<a href="#fnref17" class="footnote-back">↩</a></li>
<li id="fn18"><a href="#fnref18" class="footnote-back">↩</a></li>
<li id="fn19"><a href="#fnref19" class="footnote-back">↩</a></li>
<li id="fn20"><a href="#fnref20" class="footnote-back">↩</a></li>
<li id="fn21"><a href="#fnref21" class="footnote-back">↩</a></li>
<li id="fn22"><a href="http://gjuyn.xs4all.nl/pnganim.html">Comparison of animated PNG format proposals</a><a href="#fnref22" class="footnote-back">↩</a></li>
<li id="fn23"><a href="#fnref23" class="footnote-back">↩</a></li>
<li id="fn24"><a href="#fnref24" class="footnote-back">↩</a></li>
<li id="fn25"><a href="#fnref25" class="footnote-back">↩</a></li>
<li id="fn26"><a href="http://www.libpng.org/pub/png/book/chapter09.html">Chapter 9. Compression and Filtering</a>, in <em>PNG: The Definitive Guide</em> by Greg Roelofs.<a href="#fnref26" class="footnote-back">↩</a></li>
<li id="fn27"></li>
<li id="fn28"><a href="#fnref28" class="footnote-back">↩</a></li>
<li id="fn29"><a href="#fnref29" class="footnote-back">↩</a></li>
<li id="fn30"><a href="#fnref30" class="footnote-back">↩</a></li>
<li id="fn31"><a href="http://www.catb.org/~esr/gif2png/">Catb.org</a><a href="#fnref31" class="footnote-back">↩</a></li>
<li id="fn32"><a href="http://burnallgifs.org/">Burnallgifs.org</a><a href="#fnref32" class="footnote-back">↩</a></li>
<li id="fn33"><a href="#fnref33" class="footnote-back">↩</a></li>
<li id="fn34"><a href="#fnref34" class="footnote-back">↩</a></li>
<li id="fn35"></li>
<li id="fn36"><a href="#fnref36" class="footnote-back">↩</a></li>
<li id="fn37"><a href="#fnref37" class="footnote-back">↩</a></li>
<li id="fn38"></li>
<li id="fn39"><a href="#fnref39" class="footnote-back">↩</a></li>
<li id="fn40"><a href="#fnref40" class="footnote-back">↩</a></li>
<li id="fn41"><a href="#fnref41" class="footnote-back">↩</a></li>
<li id="fn42"><a href="#fnref42" class="footnote-back">↩</a></li>
<li id="fn43"><a href="#fnref43" class="footnote-back">↩</a></li>
<li id="fn44"><a href="#fnref44" class="footnote-back">↩</a></li>
<li id="fn45"><a href="#fnref45" class="footnote-back">↩</a></li>
<li id="fn46"><a href="#fnref46" class="footnote-back">↩</a></li>
<li id="fn47"><a href="#fnref47" class="footnote-back">↩</a></li>
<li id="fn48"></li>
<li id="fn49"></li>
<li id="fn50"><a href="#fnref50" class="footnote-back">↩</a></li>
<li id="fn51"><a href="#fnref51" class="footnote-back">↩</a></li>
<li id="fn52"></li>
<li id="fn53"></li>
<li id="fn54"></li>
<li id="fn55"></li>
<li id="fn56"></li>
<li id="fn57"><a href="http://pngmini.com/lossypng.html" class="uri">http://pngmini.com/lossypng.html</a><a href="#fnref57" class="footnote-back">↩</a></li>
<li id="fn58"></li>
<li id="fn59">Tru&lt;U+0163&gt;a, Cosmin. <a href="http://optipng.sourceforge.net/pngtech/optipng.html">&quot;A guide to PNG optimization&quot;</a>.<a href="#fnref59" class="footnote-back">↩</a></li>
</ol>
</section>
